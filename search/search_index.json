{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"Guia_integracion.html","title":"Inicio","text":""},{"location":"Guia_integracion.html#guia-de-integracion-cctses","title":"Gu\u00eda de Integraci\u00f3n CCTSES","text":"<p>Control de versiones</p> Version Fecha Autor Descripcion 0.1 14/10/2021 Phevos ITC Versi\u00f3n 0.1 0.2 20/11/2021 Phevos ITC Versi\u00f3n 0.2 0.3 03/04/2022 Phevos ITC Versi\u00f3n 0.3 0.4 05/04/2022 Phevos ITC Versi\u00f3n 0.4 0.5 15/10/2023 Phevos ITC Versi\u00f3n 0.5 0.6 06/06/2024 Phevos ITC Versi\u00f3n 0.6"},{"location":"Guia_integracion.html#indice","title":"Indice","text":""},{"location":"Guia_integracion.html#1-introduccion","title":"1. Introducci\u00f3n","text":"<p>El presente documento tiene como objetivo explicar la forma de hacer uso de la interfaz de integraci\u00f3n entre la  aplicaci\u00f3n/software CCTSES y el software de la empresa concesionaria del servicio de transporte Sanitario (en  adelante la Empresa) para poder as\u00ed integrar ambos sistemas.</p> <p>La integraci\u00f3n se realizar\u00e1 a trav\u00e9s de 2 servicios web, de tipo cliente-servidor, utilizando el est\u00e1ndar REST y  JSON como formato para el intercambio de informaci\u00f3n.</p> <p>Para distinguir estos 2 servicios-web, lo nombraremos con los siguientes nombres:</p> <ul> <li> <p>Circuito EMPRESA-TRAMBSES:   Este servicio-web recibir\u00e1 las peticiones enviadas desde el software de la Empresa al aplicativo de TRAMBSES..</p> </li> <li> <p>Circuito TRAMBSES-EMPRESA:   Este servicio-web enviar\u00e1 las peticiones enviadas desde la aplicaci\u00f3n de TRAMBSES al software de la Empresa.</p> </li> </ul>"},{"location":"Guia_integracion.html#2-entornos","title":"2. Entornos","text":"<p>Para poder llevar a cabo la integraci\u00f3n de forma exitosa, se necesita completar unas determinadas fases:</p> <ol> <li>Fase de desarrollo (software de la Empresa)</li> <li>Fase de pruebas en entorno de pruebas (Empresa y TRAMBSES)</li> <li>Fase de pruebas en entorno de pre-producci\u00f3n (Empresa y TRAMBSES)</li> <li>Puesta en producci\u00f3n</li> </ol> <p>Para cada una de las fases de pruebas, es necesario disponer de un entorno para llevar a cabo las pruebas de integraci\u00f3n.</p> <p>La fase en entorno de pruebas pueden no ser obligatorias si ambas partes estuvieran de acuerdo.</p> <p>En cada fase de pruebas se utilizar\u00e1 lo que se denomina una enviroment o entorno, y para cada environment existir\u00e1n una serie de configuraciones distintas, que ser\u00e1 necesario aplicar.</p> <p>En cada environment, cada parte de la integraci\u00f3n (sistemas) tendr\u00e1 una configuraci\u00f3n software y hardware, que ser\u00e1 independiente y no afectar\u00e1 a la misma, pero s\u00ed es necesario definir una serie de informaci\u00f3n que se utilizar\u00e1 para poder conectar con los sistemas.</p> <p>La comunicaci\u00f3n se realizar\u00e1 cifrada a trav\u00e9s de un t\u00fanel seguro entre el Origen y el Destino de la comunicaci\u00f3n.</p>"},{"location":"Guia_integracion.html#configuraciones-necesarias","title":"Configuraciones necesarias:","text":"<ul> <li><code>{server}</code>: indica la informaci\u00f3n del servidor. Direcci\u00f3n IP o DNS.</li> <li><code>{puerto}</code>: indica el n\u00ba puerto a trav\u00e9s del cual se va a realizar la comunicaci\u00f3n.</li> </ul> <p>En cada fase existir\u00e1 una configuraci\u00f3n espec\u00edfica de estos par\u00e1metros de conexi\u00f3n, y para cada circuito.</p> <p>//TODO:: En futuras versiones de este documento se ir\u00e1n incorporando las configuraciones para cada uno de los entornos.</p> <p>Las configuraciones ser\u00e1n distintas para cada circuito.</p>"},{"location":"Guia_integracion.html#3-comunicacion-entre-sistemas","title":"3. Comunicaci\u00f3n entre sistemas","text":"<p>La comunicaci\u00f3n entre los sistemas como se ha mencionado antes se realizar\u00e1 a trav\u00e9s de una conexi\u00f3n segura a trav\u00e9s de un t\u00fanel. La forma de llevar a cabo esta securizaci\u00f3n de la l\u00ednea queda fuera del \u00e1mbito de este documento.</p>"},{"location":"Guia_integracion.html#4-circuitos","title":"4. Circuitos","text":"<p>Cada circuito es indipendiente y tendr\u00e1 una operativa totalmente distinta.</p> <p>Las operaciones disponibles en cada circuito est\u00e1n documentadas a trav\u00e9s de su correspondiente documentaci\u00f3n.</p> <p>Esquema de ciruitos de integraci\u00f3n</p> Esquema de ciruitos de integraci\u00f3n <p> </p> <p>\u00c1mbito de la integraci\u00f3n:</p> <p>La integraci\u00f3n tiene que soportar la siguiente operativa:</p> <p>//TODO: Incluir la operaci\u00f3n aqu\u00ed.</p> <p>Emisi\u00f3n/recepci\u00f3n de traslados (\u00f3rdenes de transporte). Emisi\u00f3n/recepci\u00f3n de status  Emisi\u00f3n/recepci\u00f3n de planificaci\u00f3n de trabajo Emisi\u00f3n/recepci\u00f3n de propuestas de rutas</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html","title":"Gu\u00eda de Integraci\u00f3n \u2014 API de Integraci\u00f3n de Transporte (v1.0.0)","text":""},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#guia-de-integracion-api-de-integracion-de-transporte-v100","title":"Gu\u00eda de Integraci\u00f3n \u2014 API de Integraci\u00f3n de Transporte (v1.0.0)","text":""},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#1-introduccion-y-circuito","title":"1. Introducci\u00f3n y Circuito","text":"<ul> <li>T\u00edtulo: API de Integraci\u00f3n de Transporte</li> <li>Versi\u00f3n: 1.0.0</li> <li>Servidor base: https://api.miempresa.com/v1</li> </ul> <p>Descripci\u00f3n de la operativa</p> <p>Esta API permite la integraci\u00f3n entre la Empresa Concesionaria y CCTSES para reportar y consultar eventos operativos clave del servicio de transporte sanitario. Los casos de uso principales incluyen: - Reporte de estados de recursos de flota en un momento dado (veh\u00edculos, jornadas, traslados, modos especiales, posicionamiento peri\u00f3dico). - Gesti\u00f3n del ciclo de vida de traslados: anulaci\u00f3n, reactivaci\u00f3n y marcados espec\u00edficos (paciente-avisar).</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#flujo-tipico-de-operacion-alto-nivel","title":"Flujo t\u00edpico de operaci\u00f3n (alto nivel)","text":"<p>1) Inicio de jornada del conductor y declaraci\u00f3n de la actividad a realizar (p. ej. PROGRAMADO, URGENCIA). El veh\u00edculo queda disponible y sus cambios de estado se reportan mediante eventos de status. 2) Asignaci\u00f3n de un traslado a un veh\u00edculo y conductor. Se reportan cambios de estado del traslado (pendiente, asignado, confirmado, llegado a origen, en curso, llegado a destino, finalizado) y, en paralelo, los estados del veh\u00edculo. 3) Durante la prestaci\u00f3n, se emiten eventos peri\u00f3dicos de posicionamiento (GPS) y cambios de modo especial (p. ej. comida, fuera de servicio) cuando aplique. 4) En caso necesario, el traslado puede ser anulado indicando un motivo estandarizado; tambi\u00e9n es posible su reactivaci\u00f3n. Adicionalmente, puede marcarse el estado paciente-avisar sobre un traslado con una hora de recogida prevista.</p> <p>Nota: Los nombres de campos, rutas y tipos de datos en esta gu\u00eda provienen del OpenAPI (verdad t\u00e9cnica). Las descripciones funcionales, tablas de c\u00f3digos y contexto proceden del diccionario funcional.</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#2-informacion-funcional-y-slas","title":"2. Informaci\u00f3n Funcional y SLAs","text":"<ul> <li>Frecuencia de actualizaci\u00f3n de datos: cada 5 minutos (regla general de negocio).</li> <li>Ventanas de mantenimiento: la API puede devolver HTTP 503 los domingos de 03:00 a 04:00 (hora local), durante tareas de mantenimiento.</li> <li>Tiempos de respuesta (SLA): no se han declarado campos x-response-time-sla en el OpenAPI para este circuito. Si se acuerdan SLAs espec\u00edficos, deben documentarse en una versi\u00f3n futura del contrato.</li> <li>Otros metadatos x- del OpenAPI: no se han definido x-data-frequency ni otros x-atributos en este documento.</li> </ul>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#4-diccionario-de-entidades","title":"4. Diccionario de Entidades","text":"<p>A continuaci\u00f3n se describen las entidades principales seg\u00fan el contrato OpenAPI, complementadas con las tablas de c\u00f3digos funcionales.</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#41-statusinfo","title":"4.1 StatusInfo","text":"<p>Estructura JSON (resumen t\u00e9cnico) - type: object - properties:   - status: array de Status</p> <p>Descripci\u00f3n: Conjunto de eventos de estado reportados en un instante dado para distintos recursos de la flota.</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#42-status","title":"4.2 Status","text":"<p>Estructura JSON (resumen t\u00e9cnico) - type: object - required: idVehiculo, idUnidad, fechaHora - properties relevantes:   - idTrasladoCCTSES (string, nullable): Id \u00fanico de traslado en CCTSES   - idTrasladoExterno (string, nullable): Id \u00fanico de traslado en el sistema externo   - idVehiculo (string): Matr\u00edcula del veh\u00edculo asociado   - idUnidad (string): Unidad administrativa   - idEstadoTraslado (string, nullable): C\u00f3digo de estado del traslado   - idEstadoVehiculo (string, nullable): C\u00f3digo de estado del veh\u00edculo   - fechaHora (string, date-time): Fecha/hora local del estado (ej.: 2021-02-12T20:26:28+02:00)   - idMotivo (string, nullable): Motivo del origen del status   - gps (Gps): Posici\u00f3n donde se gener\u00f3 el status   - idActividadJornada (string, nullable): Tipo de actividad en la jornada   - idJornada (string, nullable): Identificador de la jornada</p> <p>Tablas de referencia funcionales</p> <p>TB_TRASLADO_ESTADOS (para idEstadoTraslado)</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional P PENDIENTE Traslado creado pero sin asignar recursos A ASIGNADO Traslado asignado a conductor y veh\u00edculo CC CONFIRMADO CONDUCTOR Conductor confirma/visualiza en terminal LO LLEGADO-ORIGEN Llegada al punto de origen E CURSADO Paciente embarcado, traslado en curso LD LLEGADO-DESTINO Llegada al destino con el paciente"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#diagrama-de-flujo-de-estados-del-traslado","title":"Diagrama de flujo de estados del traslado","text":"<pre><code>stateDiagram-v2\n    Pendiente --&gt; Asignado: Traslado tiene asignado vehiculo/conductor\n    Asignado --&gt; Pendiente: Traslado des-asignan recurso \n    Asignado --&gt; ConfirmadoConductor: Conductor ha confirmado la visualizaci\u00f3n del traslado en el terminal\n    ConfirmadoConductor --&gt; LlegadaOrigen: Vehiculo llega al punto de origen\n    LlegadaOrigen --&gt; EnCurso: Paciente montado en ambulancia\n    EnCurso --&gt; LlegadaDestino: Vehiculo llega al punto de destino\n    LlegadaDestino --&gt; Finalizado: Traslado finalizado</code></pre> <p>TB_VEHICULO_ESTADOS (para idEstadoVehiculo)</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional 0 Rojo Sin conductor logueado (fuera de servicio) 1 Verde Disponible sin traslados en ejecuci\u00f3n 2 Naranja Retorno a base sin pacientes 3 Amarillo En ruta para recoger primer paciente 4 Azul Con pacientes a bordo 10 AmarilloRecoger En punto de recogida (esperando) 11 AzulRecoger Recogida paciente adicional 12 AzulBajar En destino iniciando desembarque"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#diagrama-de-flujo-de-estados-del-vehiculo","title":"Diagrama de flujo de estados del veh\u00edculo","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Rojo: Sistema iniciado\n    Rojo --&gt; Verde: Login conductor\n    Verde --&gt; Amarillo: Iniciar recogida 1\u00ba paciente\n    Amarillo --&gt; AmarilloRecoger: Llegada punto recogida\n    AmarilloRecoger --&gt; Azul: Paciente montado\n    Azul --&gt; AzulRecoger: En punto recogida siguiente paciente\n    AzulRecoger --&gt; Azul: Paciente adicional montado\n    Azul --&gt; AzulBajar: Llegada punto destino\n    AzulBajar --&gt; Verde: Todos bajados / Ambulancia lista\n    AzulBajar --&gt; Naranja: Retorno a base\n    Verde --&gt; Naranja: Retorno a base\n    Naranja --&gt; Verde: Disponible en base\n    Verde --&gt; Rojo: Logout conductor\n    Rojo --&gt; [*]: Fin de servicio</code></pre> <p>TB_ACTIVIDAD_TIPOS (para idActividadJornada)</p> C\u00f3digo Leyenda Descripci\u00f3n 1 PROGRAMADO Traslados programados (citas, consultas, tratamientos) 2 URGENCIA Servicios de urgencia no programados 3 UME Unidad Medicalizada de Emergencia 4 UP ??? 5 CENTRO SALUD Traslados asociados a centros de salud 6 UMTS Unidad M\u00f3vil de Transporte Sanitario 7 UMAR Unidad M\u00f3vil de Alta Resoluci\u00f3n 8 SVB Soporte Vital B\u00e1sico <p>TB_MOTIVO_ESTADOS (para idMotivo)</p> <p>Tipos de recurso y motivos caracter\u00edsticos: - VEHICULO-POSICIONAMIENTO: 1=LOCALIZACION, 11=INFORMACION-PERIODICA - TRASLADO: 2=TRASLADO CAMBIO ESTADO, 4=TRASLADO-ASIGNACION, 5=TRASLADO-DESASIGNACI\u00d3N - VEHICULO-ESTADO: 3=VEHICULO CAMBIO ESTADO - VEHICULO-MODOS: 24=Ninguno, 25=Comida, 26=Fuera-Servicio - JORNADA: 30=Inicio, 31=Fin - GEN\u00c9RICO: 0=DESCONOCIDA</p> <p>Campos requeridos por tipo de recurso (resumen funcional) - VEHICULO-ESTADO: idVehiculo, idUnidad, idEstadoVehiculo, fechaHora, idMotivo=3, gps, idActividadJornada, idJornada - VEHICULO-POSICIONAMIENTO: idVehiculo, idUnidad, fechaHora, idMotivo=1|11, gps, idActividadJornada, idJornada, (idEstadoVehiculo recomendado) - VEHICULO-MODOS: idVehiculo, idUnidad, fechaHora, idMotivo\u2208{24,25,26}, gps, idActividadJornada, idJornada - TRASLADO: idTrasladoCCTSES|idTrasladoExterno, idVehiculo, idUnidad, idEstadoTraslado, fechaHora, idMotivo\u2208{2,4,5}, gps, idActividadJornada, idJornada - JORNADA: idVehiculo, idUnidad, fechaHora, idMotivo\u2208{30,31}, gps, idActividadJornada, idJornada</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#43-gps","title":"4.3 Gps","text":"<p>Estructura JSON (resumen t\u00e9cnico) - type: object - required: longitud, latitud, rumbo, velocidad - properties:   - longitud (string): grados decimales   - latitud (string): grados decimales   - rumbo (number)   - velocidad (integer)</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#44-trasladoanuladto","title":"4.4 TrasladoAnulaDto","text":"<p>Estructura JSON (resumen t\u00e9cnico) - type: object - required: fechaHora, idMotivo - properties:   - trasladoIDs (string, nullable): IDs separados por coma   - fechaHora (string, date-time): fecha de solicitud de cancelaci\u00f3n   - idMotivo (string): motivo de anulaci\u00f3n (texto libre o c\u00f3digo interno)   - txMotivo (string, nullable): texto del motivo</p> <p>Tabla funcional de motivos de anulaci\u00f3n (TB_ANULACION_MOTIVOS)</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional AA Anul. agenda Anulaci\u00f3n por cambios en la agenda BC Baja Civitas Baja del paciente en Civitas BD Bloq. dietario Bloqueo en el dietario CA C. estr. agenda Cambio en la estructura de agenda CAM Camilla ocupada Sin camilla disponible CC Cancelac. cita Cancelaci\u00f3n de la cita CD Cita duplicada Cita duplicada CE Cita err\u00f3nea Error en el registro de la cita CH Cambio hora Cambio de hora CM Cambio m\u00e9dico Cambio de m\u00e9dico asignado CO Prest. Otro Cen Prestaci\u00f3n en otro centro CP Cambio Prestac. Cambio de prestaci\u00f3n CT Prest. Cen Conc Prestaci\u00f3n en centro concertado DIN Datos incorrec. Datos incorrectos DUP Duplicado Duplicidad de solicitud ECR e-Consulta Rech Rechazo de e-Consulta ENF Enfermo/a Paciente enfermo ER1 Error en disp. Error en dispositivo ER2 Rechazo pacient Rechazo expl\u00edcito del paciente ERR Error Error gen\u00e9rico EX Exitus Fallecimiento FAL Fallecido Fallecimiento FDO Falta document. Falta de documentaci\u00f3n FHO Fuera de hora Fuera de horario FTO Fin tratamiento Fin de tratamiento HAN Anula hospital Anulaci\u00f3n por hospital IDA Ida (medios pr) Ida por medios propios IL Ilocalizacion No se localiza al paciente ING Ingresado Paciente ingresado NCA Ausente casa Ausente en domicilio NCO Consulta Relacionado con consulta NPE Ausente Ausente NSV Sin vuelta sol. Vuelta sin solicitud OM Otros motivos No categorizados PA Alta/Traslado Alta m\u00e9dica o traslado PAN Paciente anula Solicitud del paciente PNP Pac. No prepar. Paciente no preparado PRE Pac. Ret. 112 Retenido por 112 RET Retraso Receta Retraso en receta REU Reubicaci\u00f3n Reubicaci\u00f3n RM Reprog. m\u00faltipl Reprogramaci\u00f3n m\u00faltiple RP Reprogramaci\u00f3n Reprogramaci\u00f3n SIF Anulaci\u00f3n SIF Anulaci\u00f3n desde SIF SM Decisi\u00f3n M\u00e9dica Decisi\u00f3n m\u00e9dica SNS Error disp SNS Error dispositivo SNS SO Sat. Demanda OM Saturaci\u00f3n demanda SP Solic. Paciente Solicitud del paciente SUS Suspensi\u00f3n Suspensi\u00f3n TER Terminaci\u00f3n Terminaci\u00f3n VIN Veh\u00edculo inop. Veh\u00edculo inoperativo VRE Visado Rechazado Visado rechazado VUE Vuelta (medios) Vuelta por medios propios"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#45-trasladoreactivadto","title":"4.5 TrasladoReactivaDto","text":"<p>Estructura JSON (resumen t\u00e9cnico) - type: object - required: fechaHora, idMotivo - properties:   - trasladoIDs (string, nullable): IDs separados por coma   - fechaHora (string, date-time): fecha de la solicitud   - idMotivo (string): motivo de la reactivaci\u00f3n   - txMotivo (string, nullable): texto del motivo</p> <p>Nota funcional: aunque el contrato no referencia una tabla espec\u00edfica para idMotivo en reactivaci\u00f3n, se recomienda reutilizar criterios de clasificaci\u00f3n an\u00e1logos a los de anulaci\u00f3n cuando aplique, documentando su cat\u00e1logo en acuerdos bilaterales.</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#46-response-y-result","title":"4.6 Response y Result","text":"<p>Estructura JSON (resumen t\u00e9cnico) - Response   - resultado: Result - Result (required: estado, codigo, descripcion)   - estado (string): AA=ok, AE=Error   - codigo (string): 000 en ejecuci\u00f3n correcta   - descripcion (string): Descripci\u00f3n asociada al c\u00f3digo o detalle del error</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#5-referencia-de-operaciones-endpoints","title":"5. Referencia de Operaciones (Endpoints)","text":"<p>Agrupaci\u00f3n por \u00e1reas funcionales (no hay tags declarados en el OpenAPI):</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#area-estado","title":"\u00c1rea: Estado","text":"<ul> <li>POST /api/integra/trans/v1/status/</li> <li>operationId: status</li> <li>Resumen: Crea o actualiza una orden; reporta informaci\u00f3n de estado de recursos.</li> <li>Request Body: application/json \u2192 StatusInfo</li> <li>Respuestas: 201/400/500 \u2192 Response</li> </ul> <p>Par\u00e1metros clave - Body: StatusInfo</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#area-traslado","title":"\u00c1rea: Traslado","text":"<ul> <li>DELETE /api/integra/trans/v1/traslado/{trasladoIDs}</li> <li>operationId: traslado</li> <li>Resumen: Anula uno o varios traslados</li> <li>Par\u00e1metros:<ul> <li>path trasladoIDs (string, requerido): IDs separados por coma</li> <li>query fechaHora (string, date-time, requerido): fecha de solicitud de cancelaci\u00f3n</li> <li>query idMotivo (string, requerido): motivo de anulaci\u00f3n (texto libre)</li> <li>query txMotivo (string, opcional): texto del motivo</li> </ul> </li> <li> <p>Respuestas: 201/400/500 \u2192 Response</p> </li> <li> <p>PUT /api/integra/trans/v1/traslado/reactivar</p> </li> <li>operationId: putTrasladoReactivacion</li> <li>Resumen: Reactiva uno o varios traslados</li> <li>Request Body: application/json \u2192 TrasladoReactivaDto</li> <li> <p>Respuestas: 201/400/500 \u2192 Response</p> </li> <li> <p>PUT /api/integra/trans/v1/traslado/setPacienteAvisar/{trasladoId}</p> </li> <li>operationId: putPacienteAvisar</li> <li>Resumen: Establece el estado paciente-avisar sobre un traslado</li> <li>Par\u00e1metros:<ul> <li>path trasladoId (string, requerido)</li> <li>query horaRecoger (string, date-time, requerido)</li> </ul> </li> <li>Respuestas: 201/500 \u2192 Response</li> </ul> <p>Referencia a entidades: ver secci\u00f3n 4 para estructuras de StatusInfo, Status, Gps, TrasladoReactivaDto, Response/Result.</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#7-ejemplos-de-uso","title":"7. Ejemplos de Uso","text":"<p>Nota: Se muestran ejemplos m\u00ednimos, remitiendo a las entidades definidas para la estructura completa.</p> <p>1) Reporte de estado (POST /status)</p> <p>curl -X POST \"https://api.miempresa.com/v1/api/integra/trans/v1/status/\" \\   -H \"Content-Type: application/json\" \\   -d '{         \"status\": [           {             \"idVehiculo\": \"1234-ABC\",             \"idUnidad\": \"U-01\",             \"fechaHora\": \"2025-01-15T10:20:30+01:00\",             \"idMotivo\": \"3\",             \"idEstadoVehiculo\": \"1\",             \"gps\": { \"longitud\": \"-3.70379\", \"latitud\": \"40.41678\", \"rumbo\": 180, \"velocidad\": 0 },             \"idActividadJornada\": \"1\",             \"idJornada\": \"JRN-20250115-01\"           }         ]       }'</p> <p>2) Anulaci\u00f3n de traslados (DELETE /traslado/{trasladoIDs})</p> <p>curl -X DELETE \"https://api.miempresa.com/v1/api/integra/trans/v1/traslado/TRL-1001,TRL-1002?fechaHora=2025-01-15T11:00:00+01:00&amp;idMotivo=RP&amp;txMotivo=Reprogramacion\" \\   -H \"Accept: application/json\"</p> <p>3) Reactivaci\u00f3n de traslados (PUT /traslado/reactivar)</p> <p>curl -X PUT \"https://api.miempresa.com/v1/api/integra/trans/v1/traslado/reactivar\" \\   -H \"Content-Type: application/json\" \\   -d '{         \"trasladoIDs\": \"TRL-1001,TRL-1002\",         \"fechaHora\": \"2025-01-15T12:00:00+01:00\",         \"idMotivo\": \"Reactivacion operativa\",         \"txMotivo\": \"Paciente disponible\"       }'</p> <p>4) Marcar paciente-avisar (PUT /traslado/setPacienteAvisar/{trasladoId})</p> <p>curl -X PUT \"https://api.miempresa.com/v1/api/integra/trans/v1/traslado/setPacienteAvisar/TRL-1001?horaRecoger=2025-01-15T12:30:00+01:00\" \\   -H \"Accept: application/json\"</p>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#consideraciones-de-errores-y-respuestas","title":"Consideraciones de errores y respuestas","text":"<ul> <li>En respuestas exitosas se espera estado=AA y c\u00f3digo=000 dentro de Result.</li> <li>En errores (AE), utilice la descripci\u00f3n para diagn\u00f3sticos y reintentos respetando ventanas de mantenimiento.</li> </ul>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#apendice-a-reglas-y-diagramas-resumen","title":"Ap\u00e9ndice A: Reglas y diagramas (resumen)","text":"<ul> <li>Los diagramas de flujo de estados de Traslado y Veh\u00edculo est\u00e1n documentados en el diccionario funcional y deben ser considerados como gu\u00eda de negocio para comprender las transiciones v\u00e1lidas.</li> </ul>"},{"location":"CircuitoA/Circuito1-GuiaIntegracion.html#apendice-b-convenciones","title":"Ap\u00e9ndice B: Convenciones","text":"<ul> <li>Fechas en formato ISO 8601 con offset de zona horaria.</li> <li>C\u00f3digos de estado/motivo en may\u00fasculas/num\u00e9ricos seg\u00fan tablas declaradas.</li> <li>Para cat\u00e1logos no cerrados, acordar en anexo bilateral la codificaci\u00f3n adicional antes de su uso en producci\u00f3n.</li> </ul>"},{"location":"CircuitoA/Circuito1-doc_funcional.html","title":"Circuito A: Empresa Concesionaria - CCTSES","text":""},{"location":"CircuitoA/Circuito1-doc_funcional.html#circuito-a-empresa-concesionaria-cctses","title":"Circuito A: Empresa Concesionaria - CCTSES","text":""},{"location":"CircuitoA/Circuito1-doc_funcional.html#entidad-tb_anulacion_motivos","title":"Entidad: TB_ANULACION_MOTIVOS","text":"<p>Esta tabla recoge los motivos de anulaci\u00f3n de un traslado. </p> <p>No se permite una anulaci\u00f3n con un identificador de motivo no registrado en la tabla.</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional AA Anul. agenda Anulaci\u00f3n de traslado por cambios en la agenda del servicio BC Baja Civitas Traslado cancelado por baja del paciente en el sistema Civitas BD Bloq. dietario Anulaci\u00f3n debido a bloqueo en el dietario m\u00e9dico CA C. estr. agenda Cancelaci\u00f3n por cambio en la estructura de la agenda CAM Camilla ocupada Traslado anulado porque no hay camilla disponible CC Cancelac. cita Anulaci\u00f3n por cancelaci\u00f3n de la cita m\u00e9dica asociada CD Cita duplicada Traslado cancelado por existir una cita duplicada en el sistema CE Cita err\u00f3nea Anulaci\u00f3n debido a error en el registro de la cita CH Cambio hora Traslado anulado por cambio en la hora de la cita CM Cambio m\u00e9dico Cancelaci\u00f3n por cambio del m\u00e9dico asignado CO Prest. Otro Cen Prestaci\u00f3n realizada en otro centro sanitario CP Cambio Prestac. Anulaci\u00f3n por cambio en el tipo de prestaci\u00f3n m\u00e9dica CT Prest. Cen Conc Prestaci\u00f3n atendida en centro concertado DIN Datos incorrec. Traslado cancelado por datos incorrectos del paciente o servicio DUP Duplicado Anulaci\u00f3n por duplicidad de solicitud de traslado ECR e-Consulta Rech Traslado anulado por rechazo de e-Consulta ENF Enfermo/a Cancelaci\u00f3n porque el paciente est\u00e1 enfermo y no puede acudir ER1 Error en disp. Anulaci\u00f3n por error en el dispositivo de gesti\u00f3n ER2 Rechazo pacient Traslado cancelado por rechazo expl\u00edcito del paciente ERR Error Anulaci\u00f3n por error gen\u00e9rico no especificado EX Exitus Cancelaci\u00f3n por fallecimiento del paciente FAL Fallecido Traslado anulado debido al fallecimiento del paciente FDO Falta document. Cancelaci\u00f3n por falta de documentaci\u00f3n necesaria FHO Fuera de hora Anulaci\u00f3n porque el traslado est\u00e1 fuera del horario establecido FTO Fin tratamiento Traslado cancelado por finalizaci\u00f3n del tratamiento m\u00e9dico HAN Anula hospital Anulaci\u00f3n realizada por el hospital IDA Ida (medios pr) Cancelaci\u00f3n del trayecto de ida por medios propios del paciente IL Ilocalizacion Traslado anulado por imposibilidad de localizar al paciente ING Ingresado Cancelaci\u00f3n porque el paciente est\u00e1 ingresado NCA Ausente casa Traslado anulado por ausencia del paciente en su domicilio NCO Consulta Cancelaci\u00f3n relacionada con la consulta m\u00e9dica NPE Ausente Traslado anulado por ausencia del paciente NSV Sin vuelta sol. Cancelaci\u00f3n del trayecto de vuelta sin solicitud OM Otros motivos Anulaci\u00f3n por motivos no categorizados PA Alta/Traslado Cancelaci\u00f3n por alta m\u00e9dica o traslado a otro centro PAN Paciente anula Traslado anulado por solicitud del paciente PNP Pac. No prepar. Cancelaci\u00f3n porque el paciente no est\u00e1 preparado para el traslado PRE Pac. Ret. 112 Traslado anulado por retenci\u00f3n del paciente por servicio 112 RET Retraso Receta Cancelaci\u00f3n por retraso en la receta m\u00e9dica REU Reubicaci\u00f3n Traslado anulado por reubicaci\u00f3n del servicio o paciente RM Reprog. m\u00faltipl Anulaci\u00f3n por reprogramaci\u00f3n m\u00faltiple de citas RP Reprogramaci\u00f3n Traslado cancelado por reprogramaci\u00f3n de la cita SIF Anulaci\u00f3n SIF Anulaci\u00f3n realizada desde el sistema SIF SM Decisi\u00f3n M\u00e9dica Traslado cancelado por decisi\u00f3n m\u00e9dica SNS Error disp SNS Anulaci\u00f3n por error en el dispositivo del Sistema Nacional de Salud SO Sat. Demanda OM Cancelaci\u00f3n por saturaci\u00f3n de demanda de otros motivos SP Solic. Paciente Traslado anulado por solicitud del paciente SUS Suspensi\u00f3n Anulaci\u00f3n por suspensi\u00f3n del servicio TER Terminaci\u00f3n Traslado cancelado por terminaci\u00f3n del servicio VIN Veh\u00edculo inop. Anulaci\u00f3n por veh\u00edculo inoperativo o no disponible VRE Visado Rechazado Traslado cancelado por rechazo del visado m\u00e9dico VUE Vuelta (medios) Cancelaci\u00f3n del trayecto de vuelta por medios propios del paciente"},{"location":"CircuitoA/Circuito1-doc_funcional.html#entidad-tb_traslado_estados","title":"Entidad: TB_TRASLADO_ESTADOS","text":"<p>Esta tabla recoge los estados por los que un traslado puede pasar desde su alta, hasta su finalizaci\u00f3n.</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional P PENDIENTE Traslado creado pero sin asignar recursos (conductor ni veh\u00edculo) A ASIGNADO Traslado asignado a conductor y veh\u00edculo espec\u00edficos CC CONFIRMADO CONDUCTOR El conductor ha confirmado y visualizado el traslado en el Terminal Embarcado LO LLEGADO-ORIGEN El veh\u00edculo ha llegado al punto de origen para la recogida del paciente E CURSADO El paciente est\u00e1 embarcado en la ambulancia y el traslado est\u00e1 en curso LD LLEGADO-DESTINO El veh\u00edculo ha llegado al punto de destino con el paciente"},{"location":"CircuitoA/Circuito1-doc_funcional.html#diagrama-de-flujo-de-estados-del-traslado","title":"Diagrama de Flujo de Estados del Traslado","text":"<pre><code>stateDiagram-v2\n    Pendiente --&gt; Asignado: Traslado tiene asignado vehiculo/conductor\n    Asignado --&gt; Pendiente: Traslado des-asignan recurso \n    Asignado --&gt; ConfirmadoConductor: Conductor ha confirmado la visualizaci\u00f3n del traslado en el terminal\n    ConfirmadoConductor --&gt; LlegadaOrigen: Vehiculo llega al punto de origen\n    LlegadaOrigen --&gt; EnCurso: Paciente montado en ambulancia\n    EnCurso --&gt; LlegadaDestino: Vehiculo llega al punto de destino\n    LlegadaDestino --&gt; Finalizado: Traslado finalizado</code></pre>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#entidad-tb_vehiculo_estados","title":"Entidad: TB_VEHICULO_ESTADOS","text":"<p>Esta tabla recoge los estados de un veh\u00edculo/ambulancia en su diario de trabajo.</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional 0 Rojo Veh\u00edculo sin conductor logueado y sin actividad indicada (fuera de servicio) 1 Verde Conductor logueado y veh\u00edculo disponible sin traslados en ejecuci\u00f3n 2 Naranja Conductor logueado y veh\u00edculo disponible retornando a base sin pacientes 3 Amarillo Veh\u00edculo en ruta para recoger al primer paciente de la ruta 4 Azul Veh\u00edculo con al menos un paciente a bordo, transportando o recogiendo pacientes adicionales 10 AmarilloRecoger Veh\u00edculo llegado al punto de recogida del primer paciente, esperando embarque 11 AzulRecoger Veh\u00edculo con paciente(s) a bordo, llegado al punto de recogida de paciente adicional 12 AzulBajar Veh\u00edculo llegado a punto de destino, iniciando desembarque de paciente(s)"},{"location":"CircuitoA/Circuito1-doc_funcional.html#diagrama-de-flujo-de-estados-del-vehiculo","title":"Diagrama de Flujo de Estados del Veh\u00edculo","text":"<pre><code>stateDiagram-v2\n    [*] --&gt; Rojo: Sistema iniciado\n    Rojo --&gt; Verde: Login conductor\n    Verde --&gt; Amarillo: Iniciar recogida 1\u00ba paciente\n    Amarillo --&gt; AmarilloRecoger: Llegada punto recogida\n    AmarilloRecoger --&gt; Azul: Paciente montado\n    Azul --&gt; AzulRecoger: En punto recogida siguiente paciente\n    AzulRecoger --&gt; Azul: Paciente adicional montado\n    Azul --&gt; AzulBajar: Llegada punto destino\n    AzulBajar --&gt; Verde: Todos bajados / Ambulancia lista\n    AzulBajar --&gt; Naranja: Retorno a base\n    Verde --&gt; Naranja: Retorno a base\n    Naranja --&gt; Verde: Disponible en base\n    Verde --&gt; Rojo: Logout conductor\n    Rojo --&gt; [*]: Fin de servicio</code></pre>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#entidad-tb_actividad_tipos","title":"Entidad: TB_ACTIVIDAD_TIPOS","text":"<p>Una actividad indica el tipo de operativa o tipo de servicio que la ambulancia va a realizar durante esta jornada o turno de trabajo.</p> <p>Esta tabla recoge los tipos de actividades que son objeto de integraci\u00f3n.</p> C\u00f3digo Leyenda Descripci\u00f3n Funcional 1 PROGRAMADO Traslados sanitarios programados con antelaci\u00f3n (citas, consultas, tratamientos) 2 URGENCIA Servicios de urgencia no programados que requieren atenci\u00f3n inmediata 3 UME Unidad Medicalizada de Emergencia para situaciones cr\u00edticas con soporte vital avanzado 4 UP ??? 5 CENTRO SALUD Traslados espec\u00edficos desde/hacia centros de salud de atenci\u00f3n primaria 6 UMTS Unidad M\u00f3vil de Transporte Sanitario para traslados medicalizados 7 UMAR Unidad M\u00f3vil de Alta Resoluci\u00f3n para atenci\u00f3n especializada in situ 8 SVB Soporte Vital B\u00e1sico para emergencias que requieren atenci\u00f3n sanitaria sin medicalizar"},{"location":"CircuitoA/Circuito1-doc_funcional.html#entidad-tb_motivo_estados","title":"Entidad: TB_MOTIVO_ESTADOS","text":"<p>Los llamados <code>status</code> son una parte fundamental del sistema, ya que permiten conocer en tiempo real la situaci\u00f3n de la flota,  a trav\u00e9s del estado de sus recursos, vehiculos, traslados, .. y la operativa que se realiza en cada uno de ellos.</p> <p>Cada recurso tiene un conjunto de <code>status</code> que debe reportar.</p> <p>Cada <code>status</code> reportar\u00e1 una informaci\u00f3n u otra, dependiendo del tipo de recurso, y por tanto la informaci\u00f3n obligatoria ser\u00e1 diferente en base al tipo de <code>status</code>.</p> <p>En base en esto los tipos de <code>status</code> se pueden puede generar por los siguientes recursos:</p> <ul> <li><code>VEHICULO-ESTADO</code>: Cambios de estado de un veh\u00edculo.</li> <li><code>VEHICULO-MODOS</code>: Estados especiales de funcionamiento que puede estar un veh\u00edculo. </li> <li><code>VEHICULO-POSICIONAMIENTO</code>: Informaci\u00f3n a intervalos peri\u00f3dicos de informaci\u00f3n GPS del veh\u00edculo.</li> <li><code>TRASLADO</code>: Cambios de estados por los que pasa un traslado en su ejecuci\u00f3n.</li> <li><code>JORNADA</code>: Cambios de estados de una jornada de trabajo.</li> </ul> <p>De esta forma, los motivos de los cambios de estado son estos:</p>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-vehiculo-posicionamiento","title":"Tipo: VEHICULO-POSICIONAMIENTO","text":"C\u00f3digo Leyenda Descripci\u00f3n Funcional Referencia 1 LOCALIZACION Informaci\u00f3n de localizaci\u00f3n y posicionamiento GPS del veh\u00edculo Ver secci\u00f3n Veh\u00edculo 11 INFORMACION-PERIODICA Env\u00edo peri\u00f3dico de informaci\u00f3n completa del estado y posici\u00f3n del veh\u00edculo Ver secci\u00f3n Veh\u00edculo"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-traslado","title":"Tipo: TRASLADO","text":"C\u00f3digo Leyenda Descripci\u00f3n Funcional Referencia 2 TRASLADO CAMBIO ESTADO Notificaci\u00f3n de cambio de estado en el ciclo de vida de un traslado Ver <code>TB_TRASLADO_ESTADOS</code> 4 TRASLADO-ASIGNACION Asignaci\u00f3n de recursos (conductor y veh\u00edculo) a un traslado espec\u00edfico Ver <code>TB_TRASLADO_ESTADOS</code> 5 TRASLADO-DESASIGNACI\u00d3N Liberaci\u00f3n de recursos previamente asignados a un traslado Ver <code>TB_TRASLADO_ESTADOS</code>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-vehiculo-estado","title":"Tipo: VEHICULO-ESTADO","text":"C\u00f3digo Leyenda Descripci\u00f3n Funcional Referencia 3 VEHICULO CAMBIO ESTADO Notificaci\u00f3n de cambio en el estado operativo del veh\u00edculo Ver <code>TB_VEHICULO_ESTADOS</code>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-vehiculo-modos-modos-especiales","title":"Tipo: VEHICULO-MODOS (Modos Especiales)","text":"C\u00f3digo Leyenda Descripci\u00f3n Funcional Referencia 24 Ninguno Veh\u00edculo en modo operativo normal sin modos especiales activos Ver secci\u00f3n Veh\u00edculo 25 Comida Veh\u00edculo y tripulaci\u00f3n en tiempo de descanso para comida (temporalmente no disponible) Ver secci\u00f3n Veh\u00edculo 26 Fuera-Servicio Veh\u00edculo temporalmente fuera de servicio por mantenimiento, ITV, reparaci\u00f3n en taller, etc. Ver secci\u00f3n Veh\u00edculo"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-jornada","title":"Tipo: JORNADA","text":"C\u00f3digo Leyenda Descripci\u00f3n Funcional Referencia 30 Inicio Inicio de jornada laboral del conductor con login en el sistema Ver secci\u00f3n Veh\u00edculo 31 Fin Finalizaci\u00f3n de jornada laboral del conductor con logout del sistema Ver secci\u00f3n Veh\u00edculo"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-generico","title":"Tipo: GEN\u00c9RICO","text":"C\u00f3digo Leyenda Descripci\u00f3n Funcional Referencia 0 DESCONOCIDA Estado no categorizado o error en la identificaci\u00f3n del tipo de status N/A"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-de-recurso-vehiculo-estado","title":"Tipo de Recurso: VEHICULO-ESTADO","text":"<p>Los estados por los que pasa un veh\u00edculo est\u00e1n recogidos en la tabla <code>TB_VEHICULO_ESTADOS</code>.</p> <p>La gesti\u00f3n de un veh\u00edculo est\u00e1 estrechamente vinculada a la Jornada de Trabajo y a la actividad que se realiza en ella. Un <code>status</code> de un veh\u00edculo siempre debe estar encuadrado en una Jornada de Trabajo, y en la jornada se realizar\u00e1 un tipo de Actividad espec\u00edfico.</p> <p>Campos requeridos:</p> <ul> <li><code>idVehiculo</code> - Matr\u00edcula del veh\u00edculo</li> <li><code>idUnidad</code> - Unidad administrativa</li> <li><code>idEstadoVehiculo</code> - Estado del veh\u00edculo (referencia <code>TB_VEHICULO_ESTADOS</code>)</li> <li><code>fechaHora</code> - Fecha y hora del cambio de estado</li> <li><code>idMotivo</code> - Motivo del cambio (c\u00f3digo 3: VEHICULO CAMBIO ESTADO)</li> <li><code>gps</code> - Posici\u00f3n GPS del veh\u00edculo (longitud, latitud, rumbo, velocidad)</li> <li><code>idActividadJornada</code> - Tipo de actividad de la jornada (referencia <code>TB_ACTIVIDAD_TIPOS</code>)</li> <li><code>idJornada</code> - Identificador de la jornada de trabajo</li> </ul>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-de-recurso-vehiculo-posicionamiento","title":"Tipo de Recurso: VEHICULO-POSICIONAMIENTO","text":"<p>Campos requeridos: - <code>idVehiculo</code> - Matr\u00edcula del veh\u00edculo - <code>idUnidad</code> - Unidad administrativa - <code>fechaHora</code> - Fecha y hora de la posici\u00f3n - <code>idMotivo</code> - Motivo del status (c\u00f3digo 1: LOCALIZACION o c\u00f3digo 11: INFORMACION-PERIODICA) - <code>gps</code> - Posici\u00f3n GPS del veh\u00edculo (longitud, latitud, rumbo, velocidad) - <code>idActividadJornada</code> - Tipo de actividad de la jornada - <code>idJornada</code> - Identificador de la jornada de trabajo - <code>idEstadoVehiculo</code> - Estado actual del veh\u00edculo (opcional pero recomendado en INFORMACION-PERIODICA)</p>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-de-recurso-vehiculo-modos","title":"Tipo de Recurso: VEHICULO-MODOS","text":"<p>Campos requeridos: - <code>idVehiculo</code> - Matr\u00edcula del veh\u00edculo - <code>idUnidad</code> - Unidad administrativa - <code>fechaHora</code> - Fecha y hora del cambio de modo - <code>idMotivo</code> - Motivo del status (c\u00f3digo 24: Ninguno, 25: Comida, 26: Fuera-Servicio) - <code>gps</code> - Posici\u00f3n GPS del veh\u00edculo - <code>idActividadJornada</code> - Tipo de actividad de la jornada - <code>idJornada</code> - Identificador de la jornada de trabajo</p>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-de-recurso-traslado","title":"Tipo de Recurso: TRASLADO","text":"<p>Los estados por los que pasa un traslado est\u00e1n recogidos en la tabla <code>TB_TRASLADO_ESTADOS</code>.</p> <p>Campos requeridos: - <code>idTrasladoCCTSES</code> - ID \u00fanico del traslado en CCTSES (si fue generado por CCTSES) - <code>idTrasladoExterno</code> - ID \u00fanico del traslado en el sistema externo - <code>idVehiculo</code> - Matr\u00edcula del veh\u00edculo asignado - <code>idUnidad</code> - Unidad administrativa - <code>idEstadoTraslado</code> - Estado del traslado (referencia <code>TB_TRASLADO_ESTADOS</code>) - <code>fechaHora</code> - Fecha y hora del cambio de estado del traslado - <code>idMotivo</code> - Motivo del status (c\u00f3digo 2: TRASLADO CAMBIO ESTADO, 4: TRASLADO-ASIGNACION, 5: TRASLADO-DESASIGNACI\u00d3N) - <code>gps</code> - Posici\u00f3n GPS del veh\u00edculo en el momento del cambio de estado - <code>idActividadJornada</code> - Tipo de actividad de la jornada - <code>idJornada</code> - Identificador de la jornada de trabajo</p>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#tipo-de-recurso-jornada","title":"Tipo de Recurso: JORNADA","text":"<p>Campos requeridos: - <code>idVehiculo</code> - Matr\u00edcula del veh\u00edculo - <code>idUnidad</code> - Unidad administrativa - <code>fechaHora</code> - Fecha y hora del evento de jornada - <code>idMotivo</code> - Motivo del status (c\u00f3digo 30: Inicio, 31: Fin) - <code>gps</code> - Posici\u00f3n GPS del veh\u00edculo - <code>idActividadJornada</code> - Tipo de actividad que se va a realizar en la jornada (referencia <code>TB_ACTIVIDAD_TIPOS</code>) - <code>idJornada</code> - Identificador \u00fanico de la jornada de trabajo</p>"},{"location":"CircuitoA/Circuito1-doc_funcional.html#reglas-funcionales-generales","title":"Reglas Funcionales Generales","text":"<ul> <li>Frecuencia: Los datos de stock se actualizan cada 5 minutos.</li> <li>Ventanas de mantenimiento: La API puede devolver 503 los domingos de 03:00 a 04:00 AM. ```</li> </ul>"},{"location":"CircuitoA/Generate_doc_prompt.html","title":"Generate doc prompt","text":""},{"location":"CircuitoA/Generate_doc_prompt.html#estrategia-de-fusion-de-contexto","title":"Estrategia de Fusi\u00f3n de Contexto","text":"<p>Para que esto funcione, debes proporcionar a la IA dos \"inputs\" claros. 1.  Input A (T\u00e9cnico): El contenido del <code>openapi.yaml</code>. 2.  Input B (Negocio): El contenido de tu archivo <code>entidades.md</code>.</p>"},{"location":"CircuitoA/Generate_doc_prompt.html#el-prompt-maestro","title":"El Prompt \"Maestro\"","text":"<p>Copia y pega el siguiente prompt. He incluido marcadores <code>[PASTA AQU\u00cd...]</code> para que sepas d\u00f3nde poner tu informaci\u00f3n.</p> <p>Rol: Act\u00faa como un Technical Writer Senior especializado en integraci\u00f3n de sistemas y APIs REST. Tu objetivo es generar una \"Gu\u00eda de Integraci\u00f3n\" cohesiva y profesional dirigida a un desarrollador externo.</p> <p>Entradas: Vas a recibir dos fuentes de informaci\u00f3n que debes combinar: 1.  ESPECIFICACI\u00d3N T\u00c9CNICA (YAML): Contiene la estructura exacta de la API, tipos de datos, endpoints y ejemplos t\u00e9cnicos. 2.  DICCIONARIO FUNCIONAL (MARKDOWN): Contiene descripciones detalladas del negocio, tablas de c\u00f3digos, explicaciones de las entidades y reglas funcionales que no caben en el YAML.</p> <p>Instrucciones de Fusi\u00f3n (Crucial): *   Prioridad: Para nombres de campos, rutas y tipos de datos, el YAML es la verdad absoluta. Para descripciones, contexto de negocio y tablas de valores (leyendas), el MARKDOWN tiene prioridad y debe enriquecer al YAML. *   Mapeo: Cuando encuentres una entidad en el YAML (ej: <code>EstadoPedido</code>), busca su correspondiente en el MARKDOWN. Si en el Markdown hay una tabla de c\u00f3digos (ej: 1=Recibido, 2=En preparaci\u00f3n), debes incluir esa tabla expl\u00edcitamente en la documentaci\u00f3n final. *   Informaci\u00f3n Funcional: Extrae los datos de SLA (tiempos de respuesta) y frecuencia de los campos <code>x-response-time-sla</code> y <code>x-data-frequency</code> del YAML y red\u00e1ctalos en un lenguaje natural y claro en una secci\u00f3n dedicada.</p> <p>Estructura del Documento a Generar: Genera la salida en formato Markdown limpio, siguiendo estrictamente esta estructura:</p> <ol> <li>Introducci\u00f3n y Circuito:<ul> <li>T\u00edtulo y Versi\u00f3n (del YAML).</li> <li>Descripci\u00f3n de la operativa (del campo <code>description</code> del YAML y contexto del Markdown). Explicar el flujo paso a paso.</li> </ul> </li> <li>Informaci\u00f3n Funcional y SLAs:<ul> <li>Detalla los tiempos de respuesta esperados, frecuencias de actualizaci\u00f3n y cualquier restricci\u00f3n operativa (extra\u00eddo de los campos <code>x-</code> del YAML y notas del Markdown).</li> </ul> </li> <li>Diccionario de Entidades (El punto fuerte):<ul> <li>Para cada entidad principal, crea una secci\u00f3n.</li> <li>Muestra la estructura JSON (del YAML).</li> <li>A\u00f1ade la tabla descriptiva o leyenda de valores (del MARKDOWN). Esto es fundamental: quiero ver qu\u00e9 significa cada c\u00f3digo.</li> </ul> </li> <li>Referencia de Operaciones (Endpoints):<ul> <li>Agrupa por Tags.</li> <li>Para cada endpoint: M\u00e9todo, URL, Descripci\u00f3n corta.</li> <li>Par\u00e1metros requeridos.</li> <li>Importante: No pongas JSONs gigantes aqu\u00ed, referencia las entidades definidas en el punto 4. </li> </ul> </li> <li>Ejemplos de Uso:<ul> <li>Muestra ejemplos de uso de cada endpoint.</li> </ul> </li> </ol> <p>Puntos importantes:</p> <ul> <li>La documentaci\u00f3n tiene que ser en formato Markdown, profesional, indicando cada operaci\u00f3n en detalle.</li> <li>La documentaci\u00f3n debe extensa, con ejemplos de uso y referencias a las entidades definidas.</li> </ul> <p>dar</p>"},{"location":"CircuitoA/circuitoA-doc.html","title":"circuitoA doc","text":""},{"location":"CircuitoA/circuitoA-doc.html#41-circuitoa-empresa-cctses","title":"4.1 CircuitoA. Empresa \u27a1\ufe0f CCTSES","text":"<p>Este servicio-web recibir\u00e1 las peticiones enviadas desde la plataforma Empresa a CCTSES.</p> <p>//****** //TODO: Incluir las operaciones OpenAPI aqui. //******</p>"}]}